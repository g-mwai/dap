{% extends '../app/base.html' %}

{% block content %} 
     

{% load static %}

<div class="col feed">

  <div class="container secondary_post mt-5">

    <h4 class="mt-4 text-center "> Post a Yes/No Bet</h4>
    
    <form class="post_form mt-5" accept-charset="UTF-8"  method="POST" enctype="multipart/form-data" id="yesno_form">
      {% csrf_token %}
      <!-- {{ form.as_p }} -->


      <div class="form-group  mt-3 topic">
        {{ form.headline }}
    </div>



      <div class="form-group mt-3">

        <textarea type="text" name="body" class="form-control post-input"  placeholder="More details .." style="height: 200px;" ></textarea>
      </div>

    <div class="word-count-progress ml-2 mr-2 mt-2 ">
      <div class="progress">
          <div class="progress-bar bg-light" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <p class="text-center mt-3"><span class="character-count grey">0/360</span></p>
  </div>

  <div class="form-group ml-2 mt-3 topic">
    <label for="{{ form.topic.id_for_label }}" class="mr-2">Closes On </label>
    {{ form.closing_date }}
</div>

      <div class="col-12  ">
        <div class="row">
        
        <div class="form-group">
        <input type="file" id="id_image" name="{{ form.image.name }}" class="file-input">

    </div>                       
      </div>

      <div class="thumbnail-container">
        <button class=" btn btn-light  clear-image-button" type="button"><i class="fa-solid fa-times"></i></button>
        <img id="thumbnail" src="" alt="Thumbnail" style="max-width: 100%; height: 144px;">

    </div>

      </div>
      <div id="uploaded_files"></div>
     <div class="alert alert-danger resmessage" style="display:none;"></div>
     <div class="row">
      <div class="mr-auto mt-2 ml-3">
        <label for="id_image" class="file-label">
          <span class="icon">
            <img src="{% static 'img/icons/image.png'%}" alt="">
          </span> 
      </label>
      </div>
     <div class="ml-auto mt-3 mr-3">
      <button type="submit" name="submit" class="btn btn-rounded px-3 btnClick ">Post</button>
    </div>
    </div>

    </form>

  </div>
  </div>

  <!-- Success Modal -->
<div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
   <div class="modal-content" id="edit-success">
       <div class="modal-header">
           <h5 class="modal-title" id="successModalLabel">Success</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
           </button>
       </div>
       <div class="modal-body pb-4">
           Your bet has been posted successfully.
       </div>

   </div>
</div>
</div>

<!-- Error Modal -->
<div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
   <div class="modal-content" id="edit-error">
       <div class="modal-header">
           <h5 class="modal-title" id="errorModalLabel">Error</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
           </button>
       </div>
       <div class="modal-body pb-4">
           <!-- Errors will be displayed here -->
       </div>
       
   </div>
</div>
</div>



  {%endblock%}