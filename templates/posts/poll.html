{% extends '../app/base.html' %}

{% block content %} 
     

{% load static %}

<div class="col feed">

  <div class="container secondary_post mt-5">

  <h4 class="mt-4 text-center "> Start a Poll</h4>
    
    <form class="post_form mt-5" accept-charset="UTF-8" action="{% url 'upload_post' %}" method="POST" enctype="multipart/form-data" id="post-form">
      {% csrf_token %}
      <!-- {{ form.as_p }} -->


      <div class="form-group mt-3 topic">
        {{ form.headline }}
    </div>



      <div class="form-group mt-3">

        <textarea type="text" name="body" class="form-control post-input"  placeholder="More details .." style="height: 380px;" ></textarea>
      </div>

    <div class="word-count-progress ml-2 mr-2 mt-2 ">
      <div class="progress">
          <div class="progress-bar bg-light" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <p class="text-center mt-3"><span class="character-count grey">0/360</span></p>
  </div>

  <div class="form-group mt-3 topic">
    <label for="{{ form.topic.id_for_label }}" class="mr-2">Closes On </label>
    {{ form.closing_date }}
</div>

  <div class="options">

  </div>

  <div class="option-btn text-center mt-4">
    <a class="btn btn-outline-dark btn-round px-3" data-toggle="modal" data-target="#OptionModal">Choice <i class="fa fa-solid fa-plus"></i></a>
  </div>

      <div class="col-12  ">
        <div class="row">
        
        <div class="form-group">
        <input type="file" id="id_image" name="{{ form.image.name }}" class="file-input">

    </div>                       
      </div>

      <div class="thumbnail-container">
        <button class=" btn btn-light  clear-image-button" type="button"><i class="fa-solid fa-times"></i></button>
        <img id="thumbnail" src="" alt="Thumbnail" style="max-width: 100%; height: 144px;">

    </div>

      </div>
      <div id="uploaded_files"></div>
     <div class="alert alert-danger resmessage" style="display:none;"></div>
     <div class="row">
      <div class="mr-auto mt-2 ml-3">
        <label for="id_image" class="file-label">
          <span class="icon">
            <img src="{% static 'img/icons/image.png'%}" alt="">
          </span> 
      </label>
      </div>
     <div class="ml-auto mt-3 mr-3">
      <button type="submit" name="submit" class="btn btn-rounded px-3 btnClick ">Post</button>
    </div>
    </div>

    </form>

  </div>
  </div>


  <div class="modal fade" id="OptionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
  
            <div class="container">
              <div class="modal-body">
                <h4 class="text-center"> Add Choice</h4>
             
  
              
  
                <div class="option-form-content mt-4">
  
                  <form class="post_form" accept-charset="UTF-8" action="{% url 'upload_post' %}" method="POST" enctype="multipart/form-data" id="post-form">
                    {% csrf_token %}
                    <!-- {{ form.as_p }} -->
  
  
                    <div class="form-group ml-2 mt-3 topic">
                      {{ option_form.name }}
                  </div>
  
  
                  <div class="word-count-progress ml-2 mr-2 mt-2 ">
                    <div class="progress">
                        <div class="progress-bar bg-light" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <p class="text-center mt-3"><span class="character-count grey">0/360</span></p>
                </div>
  
                    <div class="col-12  ">
                      <div class="row">
                      
                      <div class="form-group">
                      <input type="file" id="id_image" name="{{ form.image.name }}" class="file-input">
           
                  </div>                       
                    </div>
  
                    <div class="thumbnail-container">
                      <button class=" btn btn-light  clear-image-button" type="button"><i class="fa-solid fa-times"></i></button>
                      <img id="thumbnail" src="" alt="Thumbnail" style="max-width: 100%; height: 144px;">
  
                  </div>
  
                    </div>
                    <div id="uploaded_files"></div>
                   <div class="alert alert-danger resmessage" style="display:none;"></div>
                   <div class="row">
                    <div class="mr-auto mt-2 ml-3">
                      <label for="id_image" class="file-label">
                        <span class="icon">
                          <img src="{% static 'img/icons/image.png'%}" alt="">
                        </span> 
                    </label>
                    </div>
                   <div class="ml-auto mt-3 mr-3">
                    <button type="submit" name="submit" class="btn btn-rounded px-3 btnClick ">Post</button>
                  </div>
                  </div>
  
                  </form>
                </div>
  
              
                  </div>
                  </div>
  
        <div class="modal-footer">
        
        </div>
    </div>
  </div>
  </div>
  {%endblock%}